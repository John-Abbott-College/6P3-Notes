<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-03-10">

<title>Python package management – Connected Objects</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../notes/azure-storage/index.html" rel="next">
<link href="../../notes/microcomputers/index.html" rel="prev">
<link href="../../assets/favicon_io/favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e00d159c7d0fce2c7086d7a47d38fec8.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-fb8228148007a93e7a02b49a9f0f02b0.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e00d159c7d0fce2c7086d7a47d38fec8.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-d5e3cde9400342c8f7762dc90b628151.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-0df40df1f8b92a599aa0f12e032ba960.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-d5e3cde9400342c8f7762dc90b628151.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script src="../../site_libs/quarto-contrib/iconify-2.0.0/iconify-icon.min.js"></script>
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": true,
  "collapse-after": 4,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "ctrl+k"
  ],
  "show-item-context": true,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<meta property="og:title" content="Python package management – Connected Objects">
<meta property="og:description" content="How to use install system python packages using apt. How to install project python libraries using pip. Using virtual environments to manage python dependencies.">
<meta property="og:image" content="https://john-abbott-college.github.io/6P3-Notes/notes/python-package-management/assets/art_title_path_only.svg">
<meta property="og:site_name" content="{{< var course.title >}}">
</head>

<body class="nav-sidebar docked nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../assets/favicon_io/favicon-32x32.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Connected Objects</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://moodle.johnabbott.qc.ca/course/view.php?id=1361"> 
<span class="menu-text"><iconify-icon inline="" icon="simple-icons:moodle" aria-label="Icon moodle from simple-icons Iconify.design set." title="Icon moodle from simple-icons Iconify.design set."></iconify-icon></span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-course-notes" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Course Notes</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-course-notes">    
        <li>
    <a class="dropdown-item" href="../../notes/index.html">
 <span class="dropdown-text">All course notes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/azure-d2c/index.html">
 <span class="dropdown-text">Device to Cloud Communication</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/linux-package-management/index.html">
 <span class="dropdown-text">Linux package management</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/circuitry/index.html">
 <span class="dropdown-text">Electronics Basics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/python-project-management/index.html">
 <span class="dropdown-text">Python project management</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/device-calibrating/index.html">
 <span class="dropdown-text">Device calibration</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/python-extras/index.html">
 <span class="dropdown-text">Python extras</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/bash-scripting/index.html">
 <span class="dropdown-text">Bash scripting</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/debug-reterminal/index.html">
 <span class="dropdown-text">Debugging Reterminal Issues</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/iot-concepts/index.html">
 <span class="dropdown-text">Intro to the Internet of Things</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/azure-message-routing/index.html">
 <span class="dropdown-text">Message Routing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/reterminal-devices/index.html">
 <span class="dropdown-text">reTerminal built-in devices</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/async-python/index.html">
 <span class="dropdown-text">Asynchronous progamming in Python</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/course-hardware/index.html">
 <span class="dropdown-text">Course hardware</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/azure-sdks/index.html">
 <span class="dropdown-text">Azure SDKs in Python and C#</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/azure-device-twins/index.html">
 <span class="dropdown-text">Device Twins</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/gpios/index.html">
 <span class="dropdown-text">GPIOs: Inputs and Outputs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/bash-essentials/index.html">
 <span class="dropdown-text">Bash essentials</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/serial-protocols/index.html">
 <span class="dropdown-text">Serial protocols</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/azure-eventhub/index.html">
 <span class="dropdown-text">Azure EventHubs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/python-collections/index.html">
 <span class="dropdown-text">Python collection types and operations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/azure-cli-cheatsheet/index.html">
 <span class="dropdown-text">Azure CLI Cheatsheet</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/iot-protocols/index.html">
 <span class="dropdown-text">IoT Communication Protocols</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/python-oop/index.html">
 <span class="dropdown-text">Python OOP</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/developer-environment/index.html">
 <span class="dropdown-text">Developer environment setup</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/github-basics/index.html">
 <span class="dropdown-text">GitHub basics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/azure-features/index.html">
 <span class="dropdown-text">Azure Features</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/reterminal-setup/index.html">
 <span class="dropdown-text">Reterminal setup</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/python-scripting/index.html">
 <span class="dropdown-text">Python scripting</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/azure-portal/index.html">
 <span class="dropdown-text">Azure Portal Setup</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/microcomputers/index.html">
 <span class="dropdown-text">Microcomputers</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/python-package-management/index.html">
 <span class="dropdown-text">Python package management</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/azure-storage/index.html">
 <span class="dropdown-text">Azure Blob Storage</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../notes/analog-vs-digital/index.html">
 <span class="dropdown-text">Signals: Analog and digital</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../about/syllabus/index.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about/calendar/index.html"> 
<span class="menu-text">Calendar</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about/this-site/index.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/John-Abbott-College/6P3-Notes"> 
<span class="menu-text"><iconify-icon inline="" icon="fa6-brands:github" aria-label="Icon github from fa6-brands Iconify.design set." title="Icon github from fa6-brands Iconify.design set."></iconify-icon></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../notes/python-package-management/index.html">Python package management</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">All course notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/azure-d2c/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Device to Cloud Communication</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/linux-package-management/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linux package management</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/circuitry/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Electronics Basics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/python-project-management/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python project management</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/device-calibrating/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Device calibration</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/python-extras/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python extras</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/bash-scripting/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bash scripting</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/debug-reterminal/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Debugging Reterminal Issues</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/iot-concepts/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Intro to the Internet of Things</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/azure-message-routing/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Message Routing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/reterminal-devices/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">reTerminal built-in devices</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/async-python/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Asynchronous progamming in Python</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/course-hardware/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course hardware</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/azure-sdks/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Azure SDKs in Python and C#</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/azure-device-twins/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Device Twins</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/gpios/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GPIOs: Inputs and Outputs</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/bash-essentials/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bash essentials</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/serial-protocols/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Serial protocols</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/azure-eventhub/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Azure EventHubs</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/python-collections/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python collection types and operations</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/azure-cli-cheatsheet/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Azure CLI Cheatsheet</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/iot-protocols/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">IoT Communication Protocols</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/python-oop/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python OOP</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/developer-environment/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Developer environment setup</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/github-basics/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GitHub basics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/azure-features/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Azure Features</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/reterminal-setup/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reterminal setup</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/python-scripting/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python scripting</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/azure-portal/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Azure Portal Setup</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/microcomputers/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Microcomputers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/python-package-management/index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Python package management</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/azure-storage/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Azure Blob Storage</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/analog-vs-digital/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Signals: Analog and digital</span></a>
  </div>
</li>
    </ul>
    </div>
    <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="2">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><span class="header-section-number">1</span> Overview</a></li>
  <li><a href="#python-on-raspberry-pi" id="toc-python-on-raspberry-pi" class="nav-link" data-scroll-target="#python-on-raspberry-pi"><span class="header-section-number">2</span> Python on Raspberry Pi</a></li>
  <li><a href="#installing-python-packages-using-apt" id="toc-installing-python-packages-using-apt" class="nav-link" data-scroll-target="#installing-python-packages-using-apt"><span class="header-section-number">3</span> Installing Python packages using <code>apt</code></a></li>
  <li><a href="#installing-python-packages-using-pip" id="toc-installing-python-packages-using-pip" class="nav-link" data-scroll-target="#installing-python-packages-using-pip"><span class="header-section-number">4</span> Installing python packages using <code>pip</code></a>
  <ul>
  <li><a href="#pip-cannot-be-used-to-install-system-wide-python-packages" id="toc-pip-cannot-be-used-to-install-system-wide-python-packages" class="nav-link" data-scroll-target="#pip-cannot-be-used-to-install-system-wide-python-packages"><span class="header-section-number">4.1</span> <code>pip</code> cannot be used to install system-wide python packages</a></li>
  </ul></li>
  <li><a href="#virtual-environments" id="toc-virtual-environments" class="nav-link" data-scroll-target="#virtual-environments"><span class="header-section-number">5</span> Virtual environments</a>
  <ul>
  <li><a href="#how-virtual-environments-solve-the-pip-problem" id="toc-how-virtual-environments-solve-the-pip-problem" class="nav-link" data-scroll-target="#how-virtual-environments-solve-the-pip-problem"><span class="header-section-number">5.1</span> How virtual environments solve the <code>pip</code> problem</a></li>
  <li><a href="#creating-a-virtual-environment" id="toc-creating-a-virtual-environment" class="nav-link" data-scroll-target="#creating-a-virtual-environment"><span class="header-section-number">5.2</span> Creating a virtual environment</a></li>
  <li><a href="#activating-and-deactivating-a-virtual-environment" id="toc-activating-and-deactivating-a-virtual-environment" class="nav-link" data-scroll-target="#activating-and-deactivating-a-virtual-environment"><span class="header-section-number">5.3</span> Activating and deactivating a virtual environment</a></li>
  <li><a href="#installing-venv-packages-with-pip" id="toc-installing-venv-packages-with-pip" class="nav-link" data-scroll-target="#installing-venv-packages-with-pip"><span class="header-section-number">5.4</span> Installing venv packages with <code>pip</code></a></li>
  <li><a href="#checking-what-packages-are-installed-in-a-.venv" id="toc-checking-what-packages-are-installed-in-a-.venv" class="nav-link" data-scroll-target="#checking-what-packages-are-installed-in-a-.venv"><span class="header-section-number">5.5</span> Checking what packages are installed in a .venv</a></li>
  <li><a href="#re-using-virtual-environments" id="toc-re-using-virtual-environments" class="nav-link" data-scroll-target="#re-using-virtual-environments"><span class="header-section-number">5.6</span> “Re-using” Virtual Environments</a></li>
  </ul></li>
  <li><a href="#troubleshooting" id="toc-troubleshooting" class="nav-link" data-scroll-target="#troubleshooting"><span class="header-section-number">6</span> Troubleshooting</a>
  <ul>
  <li><a href="#check-library-location" id="toc-check-library-location" class="nav-link" data-scroll-target="#check-library-location"><span class="header-section-number">6.1</span> Check library location</a></li>
  <li><a href="#check-pythons-library-paths" id="toc-check-pythons-library-paths" class="nav-link" data-scroll-target="#check-pythons-library-paths"><span class="header-section-number">6.2</span> Check python’s library paths</a></li>
  <li><a href="#using-packages-that-require-root-permissions" id="toc-using-packages-that-require-root-permissions" class="nav-link" data-scroll-target="#using-packages-that-require-root-permissions"><span class="header-section-number">6.3</span> Using packages that require root permissions</a></li>
  </ul></li>
  <li><a href="#further-reading" id="toc-further-reading" class="nav-link" data-scroll-target="#further-reading"><span class="header-section-number">7</span> Further reading</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Python package management</h1>
<p class="subtitle lead"></p><p>How to use install system python packages using apt. How to install project python libraries using pip. Using virtual environments to manage python dependencies.</p><p></p>
  <div class="quarto-categories">
    <div class="quarto-category">python</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 10, 2025</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">May 15, 2025</p>
    </div>
  </div>
    
  </div>
  


</header>


<section id="overview" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="overview"><span class="header-section-number">1</span> Overview</h2>
<p>This lecture looks at the ways to acquire use and install external python packages.</p>
<ul>
<li>Installing system python packages with <code>apt</code> on debian</li>
<li>Creating virtual environments with <code>venv</code></li>
<li>Installing packages locally with <code>pip</code></li>
</ul>
</section>
<section id="python-on-raspberry-pi" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="python-on-raspberry-pi"><span class="header-section-number">2</span> Python on Raspberry Pi</h2>
<p><em>Note: most of these notes were adapted directly from the Raspberry Pi docs: <a href="https://www.raspberrypi.com/documentation/computers/os.html#python-on-raspberry-pi">Python on Raspberry Pi</a></em></p>
<p>Python 3 is installed by default on Raspberry Pi OS, and is used for many important functions. Interfering with the system Python installation can cause problems for your operating system, so it’s important that if you install third-party Python libraries, you use the correct package-management tools.</p>
<p>There are two routes to installing libraries into the default <code>python</code> distribution:</p>
<ul>
<li><code>apt</code> to install pre-configured system python packages distributed by Debian</li>
<li><code>pip</code> to install cross-platform packages from <a href="https://pypi.org/" class="uri">https://pypi.org/</a></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Installing packages using <code>apt</code> is the preferred method for using python applications in Raspberry Pi OS / Debian.</p>
<p>Installing packages using <code>pip</code> in a <strong>virtual environment</strong> is the preferred method for installing Python libraries for developing a python project.</p>
</div>
</div>
</section>
<section id="installing-python-packages-using-apt" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="installing-python-packages-using-apt"><span class="header-section-number">3</span> Installing Python packages using <code>apt</code></h2>
<p>Packages installed via <code>apt</code> are tested, are usually pre-compiled so they install faster, and are designed for Raspberry Pi OS. They won’t break your system. Installing via this route also means that all required dependencies are also installed, and a log of installation is maintained by the OS so installation can be easily rolled back (libraries can be uninstalled) if needed.</p>
<p>You can see a complete list of Python apps maintained by Debian developers on the stable repositories <a href="https://packages.debian.org/stable/python/">here</a>. Many, but not all, popular open-source Python packages are maintained for Debian by professionals and hobbyists alike.</p>
<p>To see an example: you may find yourself wanting to install the Python 3 library to support the Raspberry Pi <a href="https://www.raspberrypi.com/documentation/accessories/build-hat.html">BuildHAT</a> component. To install this using <code>apt</code>, you would:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo apt install python3-build-hat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you want to install a Python library called “foobar” you can use <code>apt search foobar</code> to find the exact package name – partial search matches are supported, so you don’t need to know the whole name in advance. Very useful!</p>
<p>Using <code>apt</code> makes installing larger packages, like <code>numpy</code> (which has many native dependencies including a Fortran compiler), <em>much simpler and more predictable</em> than installing individual packages using Python’s own package-management system.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>In <code>apt</code>, Python packages have a consistent naming scheme: you’ll find that the a given package “foobar” is going to be called <code>python-foobar</code> or <code>python3-foobar</code> in the <code>apt</code> repositories – this helps distinguish python packages from other packages on a debian system.</p>
</div>
</div>
</section>
<section id="installing-python-packages-using-pip" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="installing-python-packages-using-pip"><span class="header-section-number">4</span> Installing python packages using <code>pip</code></h2>
<p>The goal of operating systems like Debian is to be <em>stable</em>, that is, unlikely to crash due to a poorly tested/implemented program. That does come at a cost of not always offering the latest versions of packages, nor having a complelely comprehensive set of the bleeding edge packages that are available.</p>
<p>Many developer depend on packages that are under active development. And, there are many packages that there are no Debian maintainers for. For cases like these (and many other cases, as we’ll see) it is useful for programming languages like Python to have an independent packaging manager.</p>
<p>For python, the most commonly used package manager is <a href="https://pip.pypa.io/en/stable/"><code>pip</code></a>.</p>
<blockquote class="blockquote">
<p>Pip installs packages from the <a href="https://pypi.org/">Python Package Index repository (pypi.org)</a> rather than the Debian or any other package repositories.</p>
</blockquote>
<p>Even though Raspberry Pi OS comes with <code>pip</code> installed, we can’t just use it right away, as we we’ll see in the next section.</p>
<section id="pip-cannot-be-used-to-install-system-wide-python-packages" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="pip-cannot-be-used-to-install-system-wide-python-packages"><span class="header-section-number">4.1</span> <code>pip</code> cannot be used to install system-wide python packages</h3>
<p>In previous versions of Debian/RaspberryPi OS operating system, it was possible to install libraries directly, system-wide, using the package installer for Python, <code>pip</code>.</p>
<p>You’ll find the following sort of command in many tutorials online:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pip install buildhat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In newer versions of Raspberry Pi OS, and most other operating systems, this is disallowed. If you try and install a Python package system-wide you’ll receive an error similar to this:</p>
<pre class="shell"><code>$ pip install buildhat
error: externally-managed-environment

× This environment is externally managed
╰─&gt; To install Python packages system-wide, try apt install
  python3-xyz, where xyz is the package you are trying to
  install.

  If you wish to install a non-Debian-packaged Python package,
  create a virtual environment using python3 -m venv path/to/venv.
  Then use path/to/venv/bin/python and path/to/venv/bin/pip. Make
  sure you have python3-full installed.

  For more information visit http://rptl.io/venv

note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages.
hint: See PEP 668 for the detailed specification.</code></pre>
<p>This error is generated because you’re trying to install a third-party package into the system Python. A long-standing practical problem for Python users has been conflicts between OS package managers like <code>apt</code> and Python-specific package management tools like <code>pip</code>. These conflicts include both Python-level API incompatibilities and conflicts over file ownership.</p>
<p>Therefore from <em>Debian Bookworm</em> onwards, packages installed via <code>pip</code> must be installed into a Python virtual environment using <code>venv</code>. A virtual environment is a container where you can safely install third-party modules so they won’t interfere with, or break, your system Python.</p>
</section>
</section>
<section id="virtual-environments" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="virtual-environments"><span class="header-section-number">5</span> Virtual environments</h2>
<section id="how-virtual-environments-solve-the-pip-problem" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="how-virtual-environments-solve-the-pip-problem"><span class="header-section-number">5.1</span> How virtual environments solve the <code>pip</code> problem</h3>
<p>Python <a href="https://docs.python.org/3/library/venv.html">virtual environments</a> are folders that we can create in a python project using the <a href="https://docs.python.org/3/library/venv.html">venv</a> module.</p>
<p>They act as a container that allows you to install python libraries and applications in a folder separated from your system python packages.</p>
<p>This has the following benefits:</p>
<ol type="1">
<li><p><strong>Avoid system pollution</strong></p>
<ul>
<li>Installing packages to the OS’s global Python will mix them with OS relevant packages. This could have unexpected side effects on OS tasks.</li>
<li>Because of the reason above, updating OS packages might overwrite or delete global Python packages.</li>
</ul></li>
<li><p><strong>Avoid project dependency conflicts</strong></p>
<ul>
<li>Python projects might require different versions the same external library.</li>
</ul></li>
<li><p><strong>Make projects reproducible in other environments.</strong></p>
<ul>
<li>Since all dependencies are isolated to a specific project, it is easier to identify and document them.</li>
<li>Once the dependencies are “locked”, the project dependency can be easily reproduced in other environments.</li>
</ul></li>
</ol>
</section>
<section id="creating-a-virtual-environment" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="creating-a-virtual-environment"><span class="header-section-number">5.2</span> Creating a virtual environment</h3>
<p>Inside of the project directory where you want to create virtual environment:</p>
<pre class="shell"><code>$ python -m venv .venv</code></pre>
<p>Note that the <code>.venv</code> argument is the name of your virtual environment. <code>.venv</code> is a popular choice that will be automatically recognized by VSCode.</p>
<p>The <code>python -m venv .venv</code> command creates a directory called <code>.venv</code>:</p>
<pre class="shell"><code>$ ls -la
total 12
drwxr-xr-x  3 user user 4096 Oct  3 14:34 .
drwx------ 20 user user 4096 Oct  3 14:34 ..
drwxr-xr-x  5 user user 4096 Oct  3 14:34 .venv
$</code></pre>
</section>
<section id="activating-and-deactivating-a-virtual-environment" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="activating-and-deactivating-a-virtual-environment"><span class="header-section-number">5.3</span> Activating and deactivating a virtual environment</h3>
<p>Inside the virtual environment directory is a full Python distribution (use <code>ls -l</code> to see the files). How do we use it?</p>
<p>A nice feature of venvs is that they <strong>must be activated to be used</strong>. This allows you to maintain many different venvs all over your machine, allowing you to control the python dependencies for each project independently.</p>
<p>To <strong>activate</strong> your virtual environment and make that version of Python the one you’re currently using, <code>python -m venv</code> creates a bash environment script called <code>activate</code> that you can run with the bash command <a href="../../notes/bash-scripting/#function-library-with-source"><code>source</code></a>:</p>
<pre class="shell"><code>$ source .venv/bin/activate
(.venv) $</code></pre>
<p>You’ll see that your prompt is now prepended with <code>(.venv)</code> to indicate that you’re no longer using the system Python. Instead, you’re using the version of Python contained inside your virtual environment. Any changes you make here won’t cause problems for your system Python; nor will any new modules you install into your environment.</p>
<pre class="shell"><code>(.venv) $ which python
/home/username/my_project/.venv/bin/python</code></pre>
<p>You can leave your virtual environment and return to using the system Python by typing:</p>
<pre class="shell"><code>(.venv) $ deactivate</code></pre>
<p>…and check for yourself that the shell’s <code>python</code> has updated by using <code>which python</code>.</p>
</section>
<section id="installing-venv-packages-with-pip" class="level3" data-number="5.4">
<h3 data-number="5.4" class="anchored" data-anchor-id="installing-venv-packages-with-pip"><span class="header-section-number">5.4</span> Installing venv packages with <code>pip</code></h3>
<p>Once a virtual environment is active, <strong>packages installed with <code>pip</code> will be local to that virtual environment.</strong></p>
<p>For a virtual environment named <code>.venv</code>, for example:</p>
<pre class="shell"><code>.venv/
│  └── lib/
│    └── python3.X/
│      └── site-packages/</code></pre>
<p>For example, installing <code>gpiozero</code>:</p>
<pre class="shell"><code># Notice the shell prompt indicates a virtual env is active
$ (.venv) pip install gpiozero
...
$ (.venv) ls -l .venv/lib/python3.11/site-packages/ | grep gpiozero
drwxr-xr-x@    - username 23 Jan 20:48 gpiozero                   # source code
drwxr-xr-x@    - username 23 Jan 20:48 gpiozero-2.0.1.dist-info   # distribution archive
drwxr-xr-x@    - username 23 Jan 20:48 gpiozerocli                # gpiozero comes with an extra python package for cli use</code></pre>
</section>
<section id="checking-what-packages-are-installed-in-a-.venv" class="level3" data-number="5.5">
<h3 data-number="5.5" class="anchored" data-anchor-id="checking-what-packages-are-installed-in-a-.venv"><span class="header-section-number">5.5</span> Checking what packages are installed in a .venv</h3>
<p>You can use <code>pip freeze</code> to get the packages installed in the python environment:</p>
<pre class="shell"><code>$ pip freeze</code></pre>
<p>This command is useful for a few reasons:</p>
<ul>
<li>verifying that the package you attempted to install is the version you expect it to be</li>
<li>creating a <a href="../../notes/python-project-management#dependencies-with-requirements.txt">requirements.txt</a> file from the output of the <code>pip freeze</code> command.</li>
</ul>
</section>
<section id="re-using-virtual-environments" class="level3" data-number="5.6">
<h3 data-number="5.6" class="anchored" data-anchor-id="re-using-virtual-environments"><span class="header-section-number">5.6</span> “Re-using” Virtual Environments</h3>
<p>If you move or copy a project that uses virtual environments to a different folder, <strong>you must re-initialize the virtual environment.</strong></p>
<p>From the <a href="https://docs.python.org/3/library/venv.html#how-venvs-work">official docs</a>:</p>
<blockquote class="blockquote">
<p>Scripts installed in environments contain the absolute paths to their environment’s interpreters.</p>
</blockquote>
<p>Because of this, <strong>virtual environments are non-portable</strong> – instead of moving them around, the better thing is to <strong>make sure you have a method to recreate a virtual environment</strong>.</p>
<p>For example, create a requirements file <code>requirements.txt</code>, and invoke <code>pip install -r requirements.txt</code>, to recreate your virtual environment dependencies.</p>
<p>You can see more about managing your projects dependencies in the <a href="../../notes/python-project-management#project-configuration">course notes on project configuration</a></p>
</section>
</section>
<section id="troubleshooting" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="troubleshooting"><span class="header-section-number">6</span> Troubleshooting</h2>
<p>Here are a few things to know in case you’re having issues using packages you’ve installed in a virtual environment.</p>
<section id="check-library-location" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="check-library-location"><span class="header-section-number">6.1</span> Check library location</h3>
<p>Check the location of where the module was installed with <code>pip show &lt;module-name&gt;</code>:</p>
<pre class="shell"><code>(.venv) user@host:~ $ pip show gpiozero

Name: gpiozero
Version: 2.0.1
Summary: A simple interface to GPIO devices with Raspberry Pi
Home-page: https://gpiozero.readthedocs.io/
Author: Ben Nuttall
Author-email: ben@bennuttall.com
License: BSD-3-Clause
Location: /absolute/path/to/.venv/lib/python3.12/site-packages
Requires: colorzero
Required-by:</code></pre>
<p>The library location is specified by the <code>Location</code> field.</p>
</section>
<section id="check-pythons-library-paths" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="check-pythons-library-paths"><span class="header-section-number">6.2</span> Check python’s library paths</h3>
<p>Similarly to Linux, there are environmental variables that determine where python will look for installed modules/libraries.</p>
<p>See the paths where python is looking for libraries with <code>sys.path</code>. They should look something like:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">venv</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">system</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<pre class="shell"><code>(.venv) pi@raspberrypi:~ $ python

&gt;&gt;&gt; import sys      # Exposes configuration used by the python interpreter.
&gt;&gt;&gt; sys.path        # Lists all paths where interpreter looks for modules.
['', '/usr/lib/python311/site-packages']</code></pre>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<pre class="shell"><code>pi@raspberrypi:~ $ python

&gt;&gt;&gt; import sys      # Exposes configuration used by the python interpreter.
&gt;&gt;&gt; sys.path        # Lists all paths where interpreter looks for modules.
['', '/usr/lib/python311.zip', '/usr/lib/python3.11', '/usr/lib/python3.11/lib-dynload', '/usr/local/lib/python3.11/dist-packages', '/usr/lib/python3/dist-packages', '/usr/lib/python3.11/dist-packages']</code></pre>
</div>
</div>
</div>
<p>If the output of <code>pip show seeed-python-reterminal</code> is not in this list, python will not find it when you import it.</p>
</section>
<section id="using-packages-that-require-root-permissions" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="using-packages-that-require-root-permissions"><span class="header-section-number">6.3</span> Using packages that require root permissions</h3>
<p>The <code>venv</code> pattern is very useful for maintaining packages that do not require root permissions. This is a feature, not a bug – that way, you can have many developers independently install packages on one machine without needing to give them root permissions.</p>
<p>Sometimes (and particularly, in this couse) the packages we install <em>require</em> root permissions to work. Consider the packages that edit LED <code>/sys/</code> files, like <code>seeed-python-reterminal</code> we install in Lab 2. We will run into an issue if we try to use these packages as normal users:</p>
<pre class="shell"><code>(.venv) user@hostname:~/lab2/python $ python ./leds.py
# ... output redacted
&lt;Permissions error&gt;</code></pre>
<p>It is unfortunately not fixable by simply using <code>sudo</code>:</p>
<pre class="shell"><code>(.venv) user@hostname:~/lab2/python $ sudo python ./leds.py
# ... output redacted
&lt;Module seeed-python-terminal not included/available&gt;</code></pre>
<p>Why isn’t the package available? Well, <code>sudo</code> runs <code>python</code> <em>as the root user</em>. The root user does not have your <code>venv</code> of python in its path. Try the commands below on your system to see if you understand what I mean.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">normal user</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">sudo user</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<pre class="shell"><code>(.venv)user@host:~ $ which python
/home/user/path/to/.venv/bin/python</code></pre>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<pre class="shell"><code>(.venv)user@host:~ $ sudo su
(.venv)root@host:~ # which python
/usr/bin/python</code></pre>
</div>
</div>
</div>
<p>How to resolve this problem? It is similar to the <code>sudo echo &gt; file</code> problem we saw with Bash. We need to make sure <code>sudo</code> is applying to the <em>correct python executable</em>. There are a few ways we can do this, all of which will look something like this:</p>
<pre class="shell"><code># use absolute path to virtual environment python
(.venv)user@host:~ $ sudo /absolute/path/to/venv/python ./leds.py

# use relative path to virtual environment python
(.venv)user@host:~ $ sudo ./.venv/relative/path/to/venv/python ./leds.py

# use command substitution
(.venv)user@host:~ $ sudo $(shell command for finding where python is installed) ./leds.py</code></pre>
<p>Try a few of these options out (will not work if you copy paste! Make sure you understand the commands)</p>
</section>
</section>
<section id="further-reading" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="further-reading"><span class="header-section-number">7</span> Further reading</h2>
<ul>
<li>Short guide by python.org: <a href="https://packaging.python.org/en/latest/guides/installing-using-pip-and-virtual-environments/#installing-packages-using-pip-and-virtual-environments">Installing packages using pip and virtual environments</a></li>
<li>Detailed guide by RealPython.com: <a href="https://realpython.com/python-virtual-environments-a-primer/">Python Virtual Environments: A Primer</a></li>
</ul>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div>CC BY-NC 4.0. ©2022-25 Mauricio Buschinelli &amp; Michael Haaf.
<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">(View License)</a></div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/john-abbott-college\.github\.io\/6P3-Notes\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../notes/microcomputers/index.html" class="pagination-link" aria-label="Microcomputers">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Microcomputers</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../notes/azure-storage/index.html" class="pagination-link" aria-label="Azure Blob Storage">
        <span class="nav-page-text">Azure Blob Storage</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>